# Contour Extractor v3 - 테스트 결과 (2026-01-31)

## 개요

독일어 단어장 이미지에서 그림-텍스트 쌍을 자동 추출하는 `contour_extractor_v3.py` 테스트 결과입니다.

## 기술 스택

- **영역 감지:** Canny Edge Detection + Morphology
- **분류:** 면적/종횡비 기반
- **OCR:** EasyOCR (독일어)

## 테스트 환경

- OS: Windows 10/11
- Python: 3.12
- 입력: `./Images/` 폴더의 10개 이미지 (3000x4000px)

## 결과 요약

### 정량적 결과

```
총 이미지: 10개
총 추출 쌍: 138개
평균 쌍/이미지: 13.8개
목표 달성률: 80% (8/10 이미지에서 15개 이상)
```

### 이미지별 상세 결과

| 파일명 | 그림 | 텍스트 | 쌍 |
|--------|------|--------|-----|
| 103828 | 16 | 12 | 16 |
| 103834 | 15 | 15 | 15 |
| 103837 | 18 | 7 | **18** |
| 103840 | 18 | 7 | **18** |
| 103845 | 16 | 8 | 16 |
| 103849 | 17 | 10 | 17 |
| 103853 | 16 | 11 | 16 |
| 103857 | 16 | 10 | 16 |
| 103909 | 2 | 5 | 2 |
| 103918 | 4 | 13 | 4 |

### OCR 정확도

| 평가 항목 | 결과 |
|-----------|------|
| 텍스트 영역 감지 | ✅ 성공 |
| 독일어 인식 정확도 | ❌ 낮음 |
| 숫자 인식 | ⚠️ 부분 성공 |

## 출력 파일

```
output_pairs/
├── pairs_*.json     # 쌍 데이터 (좌표, OCR 결과)
└── vis_*.jpg        # 감지 영역 시각화
```

### JSON 스키마

```json
{
  "total_pairs": 18,
  "pairs": [
    {
      "pair_id": "abc123",
      "order_index": 0,
      "picture_bbox": [x0, y0, x1, y1],
      "text_bbox": [x0, y0, x1, y1],
      "text": "OCR 결과",
      "needs_text_input": false
    }
  ]
}
```

## 알려진 이슈

1. **OCR 부정확:** EasyOCR이 독일어를 제대로 인식하지 못함
2. **빈 페이지 처리:** 103909, 103918은 내용이 적은 페이지로 추정

## 다음 단계

- [ ] Tesseract OCR 또는 Google Vision OCR로 전환 테스트
- [ ] 수동 텍스트 입력 UI 구현
- [ ] Anki 내보내기 기능 연동
